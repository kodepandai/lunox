<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.13">
<link rel="alternate" type="application/rss+xml" href="/lunox/blog/rss.xml" title="Lunox RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/lunox/blog/atom.xml" title="Lunox Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Lunox" href="/lunox/opensearch.xml"><title data-react-helmet="true">Request Lifecycle | Lunox</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://kodepandai.github.io//lunox/docs/architecture-concepts/request-lifecycle"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Request Lifecycle | Lunox"><meta data-react-helmet="true" name="description" content="If you come from php language, there is some difference concept between how request handled in Lunox and Laravel. In Laravel (php), request are handled by application and then application is terminated on each request made. In Lunox (nodejs), application is run on event loop, so the application is not terminated but run continuously. So don&#x27;t forget to return some response or throw an Exception on every request handled by Lunox so your application is not hang."><meta data-react-helmet="true" property="og:description" content="If you come from php language, there is some difference concept between how request handled in Lunox and Laravel. In Laravel (php), request are handled by application and then application is terminated on each request made. In Lunox (nodejs), application is run on event loop, so the application is not terminated but run continuously. So don&#x27;t forget to return some response or throw an Exception on every request handled by Lunox so your application is not hang."><link data-react-helmet="true" rel="icon" href="/lunox/img/logo.svg"><link data-react-helmet="true" rel="canonical" href="https://kodepandai.github.io//lunox/docs/architecture-concepts/request-lifecycle"><link data-react-helmet="true" rel="alternate" href="https://kodepandai.github.io//lunox/docs/architecture-concepts/request-lifecycle" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://kodepandai.github.io//lunox/docs/architecture-concepts/request-lifecycle" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://YZJ9ZBBRDG-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/lunox/assets/css/styles.f1e1a1cc.css">
<link rel="preload" href="/lunox/assets/js/runtime~main.ffb1e38f.js" as="script">
<link rel="preload" href="/lunox/assets/js/main.1a4c2105.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_CPE9">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/lunox/"><div class="navbar__logo"><img src="/lunox/img/logo.svg" alt="Lunox Logo" class="themedImage_7vv+ themedImage--light_epRb"><img src="/lunox/img/logo.svg" alt="Lunox Logo" class="themedImage_7vv+ themedImage--dark_EXrb"></div><b class="navbar__title">Lunox</b></a><a class="navbar__item navbar__link navbar__link--active" href="/lunox/docs/intro">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/kodepandai/lunox" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_BTqn"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_OrKV toggle_Rd4K toggleDisabled_ybsU"><div class="toggleTrack_bxag" role="button" tabindex="-1"><div class="toggleTrackCheck_cScF"><span class="toggleIcon_F14-">ðŸŒœ</span></div><div class="toggleTrackX_H1Qm"><span class="toggleIcon_F14-">ðŸŒž</span></div><div class="toggleTrackThumb_MNLe"></div></div><input type="checkbox" class="toggleScreenReader_FBF6" aria-label="Switch between dark and light mode"></div><div class="searchBox_51PK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_FqNF"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_ekHy" type="button"></button><aside class="docSidebarContainer_7zY4"><div class="sidebar_vUIx"><nav class="menu thin-scrollbar menu_64vH"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lunox/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_MCNg" href="/lunox/docs/installation/create-lunox-app">Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_MCNg" href="/lunox/docs/architecture-concepts/request-lifecycle">Architecture Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/lunox/docs/architecture-concepts/request-lifecycle">Request Lifecycle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lunox/docs/architecture-concepts/service-container">Service Container</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lunox/docs/architecture-concepts/service-provider">Service Provider</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lunox/docs/architecture-concepts/facades">Facades</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_MCNg" href="/lunox/docs/basics/routing">The Basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_MCNg" href="/lunox/docs/digging-deeper/artisan-console">Digging Deeper</a></div></li></ul></nav></div></aside><main class="docMainContainer_8G+O"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_XPhs"><div class="docItemContainer_ZNrN"><article><div class="tocCollapsible_2Y+W theme-doc-toc-mobile tocMobile_Se5y"><button type="button" class="clean-btn tocCollapsibleButton_3iyg">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Request Lifecycle</h1></header><p>If you come from <code>php</code> language, there is some difference concept between how request handled in Lunox and Laravel. In Laravel (<em><code>php</code></em>), request are handled by application and then application is terminated on each request made. In Lunox (<em><code>nodejs</code></em>), application is run on event loop, so the application is not terminated but run continuously. So don&#x27;t forget to return some response or throw an Exception on every request handled by Lunox so your application is not hang.</p><p>Because of this difference, some Laravel feature is handled differently in Lunox. For example in Laravel we have Request Facade that resolve http request instance from container. In Lunox, we cannot register http request in container because it will conflict with other user request. Auth and Session Facade have same behaviour. To solve this issue, we only can access request, auth, and session instance only from several path, such as middleware, route action, and <code>onServer</code> method (view).</p><h2 class="anchor anchorWithStickyNavbar_mHWq" id="entry-point">Entry Point<a aria-hidden="true" class="hash-link" href="#entry-point" title="Direct link to heading">â€‹</a></h2><p>The are two type of entry point on Lunox App. First is Http entry point, second is Console entry point.</p><h3 class="anchor anchorWithStickyNavbar_mHWq" id="http-kernel">Http Kernel<a aria-hidden="true" class="hash-link" href="#http-kernel" title="Direct link to heading">â€‹</a></h3><p>Http Request are handled by Http Kernel. See <a href="https://github.com/kodepandai/lunox/blob/main/index.ts" target="_blank" rel="noopener noreferrer">index.ts</a> file. This file is where Http Kernel is loaded then continuously handle all Http request. All global function (<code>helpers</code>) are loaded from <code>autoload.ts</code> file. Http Kernel then bootstrap your application bootsrapper, load application config, then register all providers and boot them to system.</p><h3 class="anchor anchorWithStickyNavbar_mHWq" id="console-kernel">Console Kernel<a aria-hidden="true" class="hash-link" href="#console-kernel" title="Direct link to heading">â€‹</a></h3><p>For console application (<em>for example to run some artisan command</em>), Lunox will run Console Kernel. The main file is <a href="https://github.com/kodepandai/lunox/blob/main/artisan.ts" target="_blank" rel="noopener noreferrer">artisan.ts</a>. This file load Console Kernel and load your application in console. We will discuss it on <code>Artisan</code> part.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/kodepandai/lunox-website/edit/main/docs/architecture-concepts/request-lifecycle.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_gxXc" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_UAeq"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/lunox/docs/installation/run-lunox-app"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Run your Lunox App</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/lunox/docs/architecture-concepts/service-container"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Service Container<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_J+vx thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#entry-point" class="table-of-contents__link toc-highlight">Entry Point</a><ul><li><a href="#http-kernel" class="table-of-contents__link toc-highlight">Http Kernel</a></li><li><a href="#console-kernel" class="table-of-contents__link toc-highlight">Console Kernel</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/lunox/docs/intro">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/lunox" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_BTqn"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/kodepandai" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_BTqn"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Lunox Framework. Built with Docusaurus.</div></div></div></footer></div>
<script src="/lunox/assets/js/runtime~main.ffb1e38f.js"></script>
<script src="/lunox/assets/js/main.1a4c2105.js"></script>
</body>
</html>